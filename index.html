<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Guezzard - Master Your Career</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;700&display=swap">
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" href="favicon.ico" type="image/x-icon">

    <!-- Load globals first (non-module) -->
    <script src="config.js" defer></script>
    <script src="globals.js" defer></script>
    
    <!-- Then load modules -->
    <script src="ui-setup.js" type="module" defer></script>
    <script src="game-state.js" type="module" defer></script>
    <script src="job-manager.js" type="module" defer></script>
    <script src="game-loop.js" type="module" defer></script>
    <script src="enhanced-script.js" type="module" defer></script>
    <script src="game-init.js" type="module" defer></script>
    <script src="debug-helpers.js" defer></script>
</head>
<body>
    <div id="game-container">
        <!-- Top Bar with Game Stats -->
        <div id="top-bar">
            <div id="game-state-indicators">
                <div class="indicator">
                    <span class="indicator-label">Gold:</span>
                    <span id="gold-display">0</span>
                </div>
                <div class="indicator">
                    <span class="indicator-label">Age:</span>
                    <span id="age-display">18</span>
                </div>
                <div class="indicator">
                    <span class="indicator-label">Life Quality:</span>
                    <span id="life-quality-display">50</span>
                </div>
            </div>

            <div id="active-job-display">
                <span class="label">Active Job:</span>
                <span id="current-job-name">Unemployed</span>
            </div>

            <div id="job-progress-bar-container" class="progress-bar-container">
                <div class="progress-bar progressBar">
                    <div class="progress-fill progressFill" id="job-progress-fill"></div>
                    <div class="progress-text name" id="job-progress-text">No Job</div>
                </div>
            </div>

            <div id="skill-progress-bar-container" class="progress-bar-container">
                <div class="progress-bar progressBar">
                    <div class="progress-fill progressFill" id="skill-progress-fill"></div>
                    <div class="progress-text name" id="skill-progress-text">No Skill</div>
                </div>
            </div>

            <span id="season-display">Season: Spring, Year 1</span>  <!-- Season display -->

            <div id="game-controls">
                <button id="pause-button">|| Pause</button>
                <button id="speed-button">â–¶ 1x Speed</button>
            </div>
        </div>

        <div id="event-log">
            <h3>Event Log</h3>
            <ul id="event-log-list">
                <li>Welcome to Guezzard, the Career Master Game!</li>
                <li>Your journey begins at 18 years old. What will you become?</li>
            </ul>
        </div>

        <div id="action-buttons">
            <h3>Actions</h3>
            <button id="job-button">Jobs</button>
            <button id="skill-button">Skills</button>
            <button id="shop-button">Shop</button>
            <button id="achievements-button">Achievements</button>
            <button id="relationships-button">Relationships</button>
            <button id="pet-button">Pet</button>
            <button id="prestige-button">Prestige</button>
        </div>

        <!-- Hidden Panels -->
        <div id="jobs-panel" class="hidden-panel">
            <h3>Available Jobs</h3>
            <ul id="jobs-list">
                <!-- Jobs will be loaded here -->
            </ul>
            <button class="close-button" data-panel="jobs-panel">Close</button>
        </div>

        <div id="skills-panel" class="hidden-panel">
            <h3>Skills Training</h3>
            <ul id="skills-list">
                <!-- Skills will be loaded here -->
            </ul>
            <button class="close-button" data-panel="skills-panel">Close</button>
        </div>

        <div id="shop-panel" class="hidden-panel">
            <h3>Item Shop</h3>
            <ul id="shop-items-list">
                <!-- Shop items will be loaded here -->
            </ul>
            <button class="close-button" data-panel="shop-panel">Close</button>
            <div id="shop">  <!-- Shop container -->
                <!-- Shop items will be rendered here by JavaScript -->
            </div>
        </div>

        <div id="achievements-panel" class="hidden-panel">
            <h3>Career Achievements</h3>
            <ul id="achievements-list">
                <!-- Achievements will be loaded here -->
            </ul>
            <button class="close-button" data-panel="achievements-panel">Close</button>
        </div>

        <div id="relationships-panel" class="hidden-panel">
            <h3>Social Connections</h3>
            <ul id="relationships-list">
                <!-- Relationships will be loaded here -->
            </ul>
            <button class="close-button" data-panel="relationships-panel">Close</button>
        </div>

        <div id="pet-panel" class="hidden-panel">
            <h3>Your Companion</h3>
            <div id="pet-area">
                Your pet will appear here once you adopt one from the shop.
            </div>
            <button class="close-button" data-panel="pet-panel">Close</button>
        </div>

        <div id="prestige-panel" class="hidden-panel">
            <h3>Career Legacy</h3>
            <div id="prestige-area">
                Prestige options will unlock after you reach retirement age.
            </div>
            <button class="close-button" data-panel="prestige-panel">Close</button>
        </div>
    </div>
</body>
</html>